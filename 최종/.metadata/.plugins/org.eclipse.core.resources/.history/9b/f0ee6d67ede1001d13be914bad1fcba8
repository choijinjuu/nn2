<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" import="com.semi.product.model.vo.Product"%>
<%
	Product p = (Product)request.getAttribute("product");
	Product p2 = (Product)request.getAttribute("product2");
%>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <title>Document</title>
    <style>
        div{
            /* border: 1px solid black; */
            box-sizing: border-box;
        }
        /*content====================================================================================================*/
        #content{
            /* background-color: aqua; */
            width: 1200px;
            height: 1800px;
            margin: auto;
        }
        #content>*{
            margin: auto;
        }

        #con_head{
            /* background-color: antiquewhite; */
            height: 420px;
            width: 1150px;
            margin: auto;
        }
        #h_btn button{
            color: white;
            font-weight: 600;
            border: 0px;
            width: 120px;
            height: 50px;
            border-radius: 5px;
            position: relative;
            left: 80px;
            margin: 11px;
        }
        #h_btn_1{
            background-color: rgb(91, 132, 221);
        }
        #h_btn_1:hover{
            background-color: rgb(120, 151, 218);
            cursor: pointer;
        }
        #h_btn_2{
            background-color: rgb(25, 25, 121);
        }
        #h_btn_2:hover{
            background-color: rgb(66, 66, 122);
            cursor: pointer;
        }
        table img{
            position: relative;
            z-index: -1;
            /*background-color: aqua;*/
        }

        /*상세정보 메뉴=----------------------------------------------------------------------------------------------*/
        #con_bar{
            /* background-color: aqua; */
            width: 1150;
            height: 50px;
            border-top-style: solid; /*메뉴바 하 선*/
            border-top-width: 1px;
            border-top-color: rgb(148, 146, 146);
            border-bottom-style: solid; /*메뉴바 하 선*/
            border-bottom-width: 1px;
            border-bottom-color: rgb(148, 146, 146);
        }
        #con_bar>a{
            text-align: center;
            line-height: 40px;
            display: inline-block;
            width: 24%;
            height: 48px;
            position: relative;
            left: 15px;
            text-decoration: none;
            color: rgb(112, 107, 107);
            font-size: 16px;
        }
        #con_bar>a:hover{
            font-size: 17px;
            color: rgb(39, 23, 109);
            font-weight: 600;
            background-color: rgb(243, 239, 239);
        }
        #con_detail{
            width: 1150px;
            /* height: 500px; */
            margin: auto;
        }
        #con_detail img{
        	
            display: block;
            margin: auto;
        }
        #con_review{
            width: 1150px;
        }
        /*--------------------------------------------------------------------------------------------------------*/
        #con_review_1{
            /* background-color: blueviolet; */
            width: 1150px;
            height: 65px;
            font-size: 20px;
            font-weight: 500;
            text-align: left;
            padding: 20px;
            border-bottom-style: solid; /*메뉴바 하 선*/
            border-bottom-width: 1px;
            border-bottom-color: rgb(17, 16, 66);
        }
        #review_t{
            /* background-color: blue; */
            width: 1150px;
        }
        #review_t>*,#review_t>*{
            text-align: center;
        }
        #con_review_3>div{
            float: left;
            height: 100px;
            height: 100%;
        }
        #con_review_p{
            width: 90%;
            /* background-color: aqua; */
            text-align: center;
        }
        #con_review_btn{
            width: 10%;
            /* background-color: brown; */
            
        }
        #con_q_btn{
            position: relative;
            left: -12px;
        }
        #con_review_btn:hover,#con_q_btn:hover{
            /* background-color: rgb(66, 66, 122); */
        }
        #R_btn{
            width: 100px;
            height: 50px;
            font-size: 18px;
            color: aliceblue;
            font-weight: 600;
            background-color: rgb(31, 31, 128);
            border-radius: 10px;
            position:relative;
            top: 10px;
            left: 8px;
        }
        /*상품 문의------------------------------------------------------------*/
        #con_q>*{
            margin: auto;
        }
        #con_c>*{
            margin: auto;
        }
        
        button{
            background-color: white;
            border: 1px solid rgb(153, 151, 151);
            border-radius: 5px;
            cursor: pointer;
        }

    </style>
</head>
<body>
    <%@include file = "../common/header.jsp" %>
    
    <div id="content">
        <div id="con_head">
            <table  style="position: relative; top: 40px; margin: auto; width: 1150px;">
                <tr>
                    <td rowspan="8" style="width: 420px; height: 350px; position: relative;"><img src="<%="/SemiProject"  + p.getTitleImg() %>" alt="" style="width: 320px; height: 350px; position: relative; left: 40px;"></td>
                    <td colspan="5" style="width: 730; font-weight: 900; font-size: 25px; color: rgb(41, 41, 124); border-bottom-style: solid;
                    border-bottom-width: 1px; border-bottom-color: rgb(221, 218, 218);"><%=p.getProductName() %></td>
                </tr>
                <tr>
                    <td style="height:40px; width: 100px; font-size: 15px; color: rgb(54, 53, 53);">판매가</td>
                    <td style="width: 50px; font-size: 12px; color: rgb(182, 178, 178);"><s><%=p.getProductPrice() %></s></td>
                    <td style="width: px; font-size: 18px; font-weight: 600;"><%=Math.round((1-(p.getProductSalesRate()*0.01))*p.getProductPrice()) %></td>
                    <td style="width: 10px; font-size: 14px; color: rgb(54, 53, 53); position: relative; left:-425px;">원</td>
                    <td style="width: 50px; font-size: 12px; color: rgb(82, 81, 81); position: relative; left:-430px;"><%=Math.round(((1-(p.getProductSalesRate()*0.01))*p.getProductPrice())*0.01) %>원</td>
                </tr>
                <tr>
                    <td>제작사</td>
                    <td colspan="4"><%=p.getProductPublisher() %></td>
                </tr>
                <tr>
                    <td>배송비</td>
                    <td colspan="4">3000원(30000원 이상은 무료배송)</td>
                </tr>
                <tr>
                    <form action="" name="result_area">
                        <td>주문수량</td>
                        <td><button type="button" id="mi" onclick="minus()">-</button></td>
                        <td style="position: relative; left: -30px;"><input type="text" name="result" id="result" value="1" style="width: 20px;"></td>
                        
                        <td style="position: relative; left: -480px;"><button type="button" id="pl" onclick="plus()">+</button></td>
                    </form>
                </tr>
                <tr>
                    <td>총 합계</td>
                    <td><%=Math.round((1-(p.getProductSalesRate()*0.01))*p.getProductPrice())+3000 %></td>
                    <td colspan="3">원</td>
                </tr>
                <tr id="h_btn">
                    <td colspan="4"><button id="h_btn_1">장바구니</button><button id="h_btn_2">바로구매</button></td>
                </tr>
            </table>
        </div>
        <div id="con_bar">
            <a href="#con_detail" >상세 정보</a>
            <a href="#con_review" >리뷰</a>
            <a href="#con_q" >상품 문의</a>
            <a href="#con_c" >교환/환불/배송</a>
        </div>
        <pre>
        
        
        </pre>
        <div id="con_detail">
            <div>
                <img src="<%="/SemiProject"  + p2.getTitleImg() %>" alt="" width="1000px">
            </div>
            <div>
                
                <pre style="white-space: pre-wrap; word-wrap: break-word; width: 1000px; margin: auto; width: 1000px;">
                
<%=p.getProductText() %>


</pre>


            </div>
        </div>
        <div id="con_review">
            <div id="con_review_1">리뷰</div>
            <div id="con_review_2">
                <table id="review_t" >
                    <tr>
                        <th id="th1">별점</th>
                        <th id="th2">상품후기</th>
                        <th id="th3">작성자</th>
                        <th id="th4">작성일자</th>
                        <th id="th5">-</th>
                    </tr>
                    <tr>
                        <td>별별별</td>
                        <td>너무 재밋어요</td>
                        <td>최진주</td>
                        <td>2023/02/02</td>
                        <td></td>
                    </tr>
                </table>
            </div>
            <div id="con_review_3">
                <div id="con_review_p"><button>1</button></div>
                <div id="con_review_btn"><button id="R_btn">리뷰 작성</button></div>
            </div>
        </div>
<pre>






</pre>

        <div id="con_q">
            <div id="con_review_1">1:1 문의</div>
            <div id="con_review_2">
                <table id="review_t" >
                    <tr>
                        <th id="th1">별점</th>
                        <th id="th2">상품후기</th>
                        <th id="th3">작성자</th>
                        <th id="th4">작성일자</th>
                        <th id="th5">-</th>
                    </tr>
                    <tr>
                        <td>별별별</td>
                        <td>너무 재밋어요</td>
                        <td>최진주</td>
                        <td>2023/02/02</td>
                        <td></td>
                    </tr>
                </table>
            </div>
            <div id="con_review_3">
                <div id="con_review_p"><button>1</button></div>
                <div id="con_q_btn"><button id="R_btn">문의 작성</button></div>
            </div>
        </div>
<pre>






</pre>
        <div id="con_c">
            <div id="con_review_1">교환/반품/품절 안내</div>
            <div id="con_review_2">
                <table id="review_t" >
                    <tr>
                        <th id="th1">별점</th>
                        <th id="th2">상품후기</th>
                        <th id="th3">작성자</th>
                        <th id="th4">작성일자</th>
                        <th id="th5">-</th>
                    </tr>
                    <tr>
                        <td>별별별</td>
                        <td>너무 재밋어요</td>
                        <td>최진주</td>
                        <td>2023/02/02</td>
                        <td></td>
                    </tr>
                </table>
            </div>
            <div id="con_review_3">
                <div id="con_review_p"><button>1</button></div>
            </div>
        </div>
    </div>

    <script>
        //수량 -
        function minus(){
            //요소 잡기
            var result = document.getElementById("result").value;
            //console.log(result);

            //클릭시 -1진행
            var result2 = parseInt(result)-1;
            //console.log(result2);

            //값 변경
            var num = document.forms['result_area']['result'];
            num.setAttribute('value',result2);
            
            console.log(parseInt(result));
            if(parseInt(result)==2){
                $("#mi").attr("disabled",true);
            }else if(parseInt(result)==1){
                $("#mi").attr("disabled",true);
            }
        }

        //수량+
        function plus(){
            //요소 잡기
            var result = document.getElementById("result").value;
            //console.log(result);

            //클릭시 -1진행
            var result2 = parseInt(result)+1;
            //console.log(result2);

            //값 변경
            var num = document.forms['result_area']['result'];
            num.setAttribute('value',result2);
            
            console.log(parseInt(result));
            if(parseInt(result)==1){
                $("#mi").attr("disabled",false);
            }
        }

    </script>
    
    <%@include file = "../common/footer.jsp" %>
</body>
</html>